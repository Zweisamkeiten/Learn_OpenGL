# 基础光照

OpenGL的光照使用的是简化的模型。对现实的情况进行近似。
这些光照模型都是基于对光的物理特性的理解。

其中一个模型是冯氏光照模型。(Phong Lighting Model)

冯氏光照模型的主要结构由三个分量组成:

1. 环境(Ambient)光照
2. 漫反射(Diffuse)光照
3. 镜面(Specular)光照

- `环境光照`即使在黑暗的情况下，世界上仍有一些光亮，所以物体几乎永远不会是完全黑暗的 为模拟这个，使用一个环境光照变量，永远会给物体一些颜色
- `漫反射光照`模拟光源对物体方向性影响 他是冯氏光照模型中视觉上最为显著的分量 物体的某一部分越是正对着光源 它就会越亮
- `镜面光照` 模拟有光泽物体上面出现的亮点 镜面光照的颜色相比于物体的颜色更倾向于光的颜色

## 环境光照

光通常都不是来自于同一个光源，而是来自于我们周围分散的很多光源

光的一个属性可以向很多方向发散并反弹 从而能够到达不是非常直接临近的点 因此光能够在其他的表面上反射 对一个物体产生间接的影响

考虑到这种情况的算法叫做全局光照算法，这种算法开销高昂又十分复杂

简化的全局照明模型 环境光照

使用一个很小的常量光照颜色 添加到物体片段着色器中的最终颜色中

用光的颜色乘以一个很小的常量环境因子 再乘以物体的颜色 将最终结果作为片段的颜色

```glsl
void main()
{
    float ambientStrength = 0.1;
    vec3 ambient = ambientStrength * lightColor;

    vec3 result = ambient * objectColor;
    FragColor = vec4(result, 1.0f);
}
```

## 漫反射光照

漫反射光照对物体产生显著的视觉影响

漫反射光照使物体上与光线方向越接近的片段能从光源处获得更多的亮度

某处有个光源，它所发出的光线落在物体的一个片段上

需要测量的是光线是以什么角度接触到这个片段的

如果光线垂直于物体表面 这束光对物体的影响会最大化

为测量光线与片段的角度 使用一个`法向量`(垂直于片段表面的一个向量)

计算漫反射光照需要什么

- 法向量: 一个垂直于顶点表面的向量
- 定向的光线： 作为光源的位置与片段的位置之间向量差的方向向量

## 法向量

垂直于顶点表面的单位向量。由于顶点本身没有表面，只是通过几个周围的顶点来计算出顶点的表面。

使用叉乘对立方体所有的顶点计算法向量。由于3d立方体不是复杂形状，可以简单地把法线数据手工添加到顶点数据中。


